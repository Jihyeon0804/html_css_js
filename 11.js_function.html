<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS Function</title>
    <script>
        function basicFunction() {
            console.log("hello world");
        }

        const variableFunction1 = function () {         // 변수에 함수를 할당
            console.log("hello world11111");
        }

        // function 대신 => 로 대체 가능
        // 만약 실행문이 1줄이라면 , {} 생략 가능
        const variableFunction2 = () => console.log("hello world22222");

        function returnFunction() {
            console.log(makeString1());
            console.log(makeString2());
            console.log(makeString3());
        }
        function makeString1() {
            return "hello world javascript"
        }

        const makeString2 = () => {return "hello javascript2"};
        const makeString3 = () => "hello javascript333333";

        function paramFunction1(a, b) {
            console.log(a + b);
        }

        function paramFunction2(name='홍길동') {        // name의 default 값 셋팅
            console.log(name)
        }

        function paramFunction3(arr) {
            console.log(arr)
        }

        function paramFunction4(...arr) {
            console.log(arr)
        }

        function functionWithException() {
            // 없는 함수 호출 시 예외 발생
            // 프론트에서 예외 처리는 주로 사용자에게 안내 문구(팝업)를 알려주거나 후속 조치를 위해 사용
            try {
                example();  
            } catch (e) {
                console.log(e)
            }
            console.log("hello world");
        }

        function showPerson() {
            const p1 = createPerson("홍길동", 20);
            console.log(p1);
            console.log(p1.printPerson());
            console.log(p1.printPerson2());
        }

        function createPerson(name, age) {
            // const person = {name, age};
            // return {name, age};
            // return person;

            return {
                name : name
                , age : age
                , printPerson:function () {                           // printPerson:() => {} 변형 가능
                    return "이름은 " +  this.name + " 나이는 " + this.age;
                }
                , printPerson2:() => {
                    return "이름은 " +  name + " 나이는 " + age;        // this 접근 불가
                }
            };
        }

        function reloadFunction() {
            // 화면 새로 고침 함수
            window.location.reload();
        }

        function moveScreen() {
            window.location.href = "https://naver.com";
        }
    </script>
</head>
<body>
    <h2>기본 함수 호출</h2>
    <button onclick="basicFunction()">함수 호출 basic</button>
    <button onclick="variableFunction1()">변수 함수1</button>
    <button onclick="variableFunction2()">변수 함수2</button>
    <button onclick="returnFunction()">리턴이 있는 함수 호출</button>
    <button onclick="paramFunction1(1, 2)">매개변수가 있는 함수 호출1</button>
    <!-- 매개변수에 값을 넣지 않으면 undefined -->
    <button onclick="paramFunction2('kim')">매개변수가 있는 함수 호출2</button>          
    <button onclick="paramFunction3([1, 2, 3, 4, 5])">매개변수가 있는 함수 호출3</button>
    <button onclick="paramFunction4(1, 2, 3, 4, 5)">매개변수가 있는 함수 호출4</button>

    <h2>js 예외 처리</h2>
    <button onclick="functionWithException()">예외 처리 함수 호출</button>

    <h2>객체 안에 있는 함수 호출</h2>
    <button onclick="showPerson()">person 객체 생성 및 조회</button>
    
    <h2>윈도우 객체</h2>
    <button onclick="reloadFunction()">화면 새로 고침</button>
    <button onclick="moveScreen()">화면 이동</button>

    <!-- 사용자가 html 화면 내에서 특정 행위(event)를 했을 때 자동 실행되는 함수 -->
    <h2>event Listener 객체 활용</h2>
    <button id="button1">버튼1</button>
    <button onclick="scrollEvent()">버튼2</button>

    <h2>html 요소 동적으로 생성</h2>
    <button onclick="addItem()">항목 추가</button>
    <div id="target">
        <input type="text"><br>
    </div>



    <script>
        function addItem() {
            let t1 = document.getElementById("target");
            t1.innerHTML += "<input type='text'><br>";
        }

        const b1 = document.getElementById("button1");
        if (b1) {
            b1.addEventListener('click', () => alert("hello world"));
        }

        function scrollEvent() {
            window.addEventListener('scroll', () => console.log("hello world22222"));
        }

        
    </script>
</body>
</html>